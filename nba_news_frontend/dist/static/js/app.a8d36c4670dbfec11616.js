webpackJsonp([0],{"1/oy":function(t,e,a){var i=a("tJJw");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("MTIv")(i,r);i.locals&&(t.exports=i.locals)},"1RRR":function(t,e){},"9M+g":function(t,e,a){var i=a("G7o+");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("MTIv")(i,r);i.locals&&(t.exports=i.locals)},"G7o+":function(t,e){},GfHa:function(t,e,a){var i=a("Vnho");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("MTIv")(i,r);i.locals&&(t.exports=i.locals)},Id91:function(t,e,a){var i=a("nivm");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("MTIv")(i,r);i.locals&&(t.exports=i.locals)},Jmt5:function(t,e,a){var i=a("NTR8");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("MTIv")(i,r);i.locals&&(t.exports=i.locals)},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var l=a("VU/8")({name:"App"},r,!1,function(t){a("s347")},null,null).exports,s=a("/ocq"),n={name:"ArticleListView",data:function(){return{articles:[],article_fields:[{key:"publish_dt",sortable:!0},{key:"title",sortable:!1}],showDetailCollapse:!1,currentArticleId:0,currentTablePage:1,perTablePage:5,showAlert:!1,statusInterval:1,remoteArticleNum:3,detailedArticle:{authorInfo:"",title:"",publishDt:"",content:""}}},created:function(){this.getArticles(),this.statusInterval=setInterval(this.checkNewArticles,1e4)},watch:{remoteArticleNum:function(t){t>this.articles.length&&(this.showAlert=!0)},articles:function(t){t.length>=this.remoteArticleNum&&(this.showAlert=!1)},currentArticleId:function(t){this.getArticleDetail(t),this.showDetailCollapse||(this.showDetailCollapse=!0)}},methods:{api:function(t){return fetch(t,{method:"GET",body:null,headers:{"content-type":"application/json"}}).then(function(t){return t.json()}).catch(function(t){return console.log(t)})},getArticles:function(){var t=this;this.api("http://localhost/api/articles/").then(function(e){t.articles=e})},getArticleDetail:function(t){var e=this;this.api("http://localhost/api/articles/"+t).then(function(t){e.detailedArticle.authorInfo=t.author_info,e.detailedArticle.title=t.title,e.detailedArticle.publishDt=t.publish_dt,e.detailedArticle.content=t.content,e.detailedArticle.url=t.url})},checkNewArticles:function(){var t=this;this.api("http://localhost/api/articles/count/").then(function(e){t.remoteArticleNum=parseInt(e.num)})}},beforeRouteLeave:function(t,e,a){clearInterval(this.statusInterval),a()}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100"},[a("b-navbar",{attrs:{toggleable:"md",type:"light",variant:"light"}},[a("b-row",{staticClass:"mx-2 w-100",attrs:{"no-gutters":""}},[a("b-col",{staticClass:"text-center text-md-start",attrs:{cols:"4",offset:"4",md:"4","offset-md":"0"}},[a("b-navbar-nav",[a("b-navbar-brand",{attrs:{tag:"h1",to:{name:"ArticleList"}}},[t._v("\n            NBA News\n          ")])],1)],1)],1)],1),t._v(" "),a("b-alert",{attrs:{variant:"success",show:t.showAlert},on:{dismissed:function(e){t.showAlert=!1},click:t.getArticles}},[a("a",{on:{click:t.getArticles}},[t._v("New articles available. Click me to refresh.")])]),t._v(" "),a("b-collapse",{staticClass:"justify-content-start justify-content-md-end mt-2",attrs:{id:"detail_collapse"},model:{value:t.showDetailCollapse,callback:function(e){t.showDetailCollapse=e},expression:"showDetailCollapse"}},[a("b-card",{attrs:{title:t.detailedArticle.title,header:t.detailedArticle.authorInfo,"bg-variant":"light"}},[a("p",{staticClass:"card-text"},[t._v(t._s(t.detailedArticle.publishDt))]),t._v(" "),a("p",{staticClass:"card-text"},[t._v(t._s(t.detailedArticle.content))]),t._v(" "),a("b-button",{staticClass:"card-link",attrs:{href:t.detailedArticle.url}},[t._v("\n        Source\n      ")]),t._v(" "),a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.detail_collapse",modifiers:{detail_collapse:!0}}]},[t._v("Dismiss")])],1)],1),t._v(" "),a("b-row",{staticClass:"h-100 mt-2",attrs:{id:"article-table","align-h":"center","align-v":"start","no-gutters":""}},[a("b-col",{attrs:{cols:"12"}},[a("b-table",{attrs:{items:t.articles,fields:t.article_fields,"current-page":t.currentTablePage,"per-page":t.perTablePage,responsive:"sm",striped:"",hover:""},scopedSlots:t._u([{key:"title",fn:function(e){return[a("a",{class:t.showDetailCollapse?"collapsed":null,attrs:{"aria-controls":"detail_collapse","aria-expanded":t.showDetailCollapse?"true":"false"},on:{click:function(a){t.currentArticleId=e.item.id}}},[t._v("\n            "+t._s(e.value)+"\n          ")])]}}])}),t._v(" "),a("b-pagination",{attrs:{size:"md",align:"center","total-rows":t.articles.length,"per-page":t.perTablePage},model:{value:t.currentTablePage,callback:function(e){t.currentTablePage=e},expression:"currentTablePage"}})],1)],1)],1)},staticRenderFns:[]};var c=a("VU/8")(n,o,!1,function(t){a("1RRR")},"data-v-a43ce724",null).exports;i.a.use(s.a);var u=new s.a({routes:[{path:"/",redirect:{name:"ArticleList"}},{path:"/articles/",name:"ArticleList",component:c}]}),d=a("e6fC");a("Jmt5"),a("9M+g");i.a.use(d.a),i.a.config.productionTip=!1,new i.a({el:"#app",router:u,components:{App:l},template:"<App/>"})},NTR8:function(t,e){},Vnho:function(t,e){},fMnH:function(t,e){},nivm:function(t,e){},s347:function(t,e){},tJJw:function(t,e){},zj2Q:function(t,e,a){var i=a("fMnH");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("MTIv")(i,r);i.locals&&(t.exports=i.locals)}},["NHnr"]);
//# sourceMappingURL=app.a8d36c4670dbfec11616.js.map