
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>NBA &mdash; News</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Free HTML5 Template by FREEHTML5.CO" />
    <meta name="keywords" content="free html5, free template, free bootstrap, html5, css3, mobile first, responsive" />
    <meta name="author" content="FREEHTML5.CO" />

  <!-- 
    //////////////////////////////////////////////////////

    FREE HTML5 TEMPLATE 
    DESIGNED & DEVELOPED by FREEHTML5.CO
        
    Website:        http://freehtml5.co/
    Email:          info@freehtml5.co
    Twitter:        http://twitter.com/fh5co
    Facebook:       https://www.facebook.com/fh5co

    //////////////////////////////////////////////////////
     -->

    <!-- Facebook and Twitter integration -->
    <meta property="og:title" content=""/>
    <meta property="og:image" content=""/>
    <meta property="og:url" content=""/>
    <meta property="og:site_name" content=""/>
    <meta property="og:description" content=""/>
    <meta name="twitter:title" content="" />
    <meta name="twitter:image" content="" />
    <meta name="twitter:url" content="" />
    <meta name="twitter:card" content="" />

    {% load static %}



    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link rel="shortcut icon" href="favicon.ico">
    <!-- Google Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Playfair+Display:400,700,400italic|Roboto:400,300,700' rel='stylesheet' type='text/css'>
    <!-- Animate -->
    <link rel="stylesheet" href="{% static 'css/animate.css' %}">
    <!-- Icomoon -->
    <link rel="stylesheet" href="{% static 'css/icomoon.css' %}">
    <!-- Bootstrap  -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">

    <link rel="stylesheet" href="{% static 'css/style.css' %}">


    <!-- Modernizr JS -->
    <script src="{% static 'js/modernizr-2.6.2.min.js' %}"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script src="js/respond.min.js"></script>
    <![endif]-->
    <!-- ajax  -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    </head>
    <body>

    <!-- END #fh5co-offcanvas -->
    <header id="fh5co-header">
        
        <div class="container-fluid">

            <div class="row">
                <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
                <ul class="fh5co-social">
                    <li><a href="#"><i class="icon-twitter"></i></a></li>
                    <li><a href="#"><i class="icon-facebook"></i></a></li>
                    <li><a href="#"><i class="icon-instagram"></i></a></li>
                </ul>
                <div class="col-lg-12 col-md-12 text-center">
                    <h1 id="fh5co-logo"><a href=".">NBA <sup>News</sup></a></h1>
                </div>

            </div>
        
        </div>



    </header>
    <!-- END #fh5co-header -->
    <div class="container-fluid">
        <div class="row fh5co-post-entry">
        {% block content %}
            {% with ''|center:8 as range %}
            {% for _ in range %}
            <article class="col-lg-3 col-md-3 col-sm-3 col-xs-6 col-xxs-12 ">
                <figure>
                    <a href="#" id = "detail_link_{{forloop.counter}}" class = "alldetaillink">
                    <img id = "img_{{forloop.counter}}" src="{% static 'images/loading.png' %}" alt="Image" class="img-responsive allimg"></a>
                </figure>

                <h2 id = "title_{{forloop.counter}}" class="alltitle fh5co-article-title" ><a href="single.html">Loading</a></h2>
                <a href = "#" id = "detail_link2_{{forloop.counter}}" class = "alldetaillink">
                <span id = "intro_{{forloop.counter}}" class="allintro fh5co-meta fh5co-date" >Please wait</span></a>
            </article>
                {% if forloop.counter == 2 or forloop.counter == 6 or forloop.counter == 10 %}
            <div class="clearfix visible-xs-block"></div>
                {% endif %}
                {% if forloop.counter == 4 or forloop.counter == 8 or forloop.counter == 12 %}
            <div class="clearfix visible-lg-block visible-md-block visible-sm-block visible-xs-block"></div>
                {% endif %}

            {% endfor %}
            {% endwith %}
        {% endblock %}
            

            <div class="clearfix visible-xs-block"></div>
        </div>
    </div>

    <footer id="fh5co-footer">
        <p><small>&copy; 2016. Magazine Free HTML5. All Rights Reserverd. <br> Designed by <a href="http://freehtml5.co" target="_blank">FREEHTML5.co</a>  Demo Images: <a href="http://unsplash.com/" target="_blank">Unsplash</a></small></p>
    </footer>


    


    <!-- jQuery Easing -->
    <script src="{% static 'js/jquery.easing.1.3.js' %}"></script>
    <!-- Bootstrap -->
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <!-- Waypoints -->
    <script src="{% static 'js/waypoints.min.js' %}"></script>
    <!-- Main JS -->
    <script src="{% static 'js/main.js' %}"></script>

    <script type="text/javascript">
    $(document).ready( function() {

        $.ajax({//http://nbanews20190819.herokuapp.com
            url : "/api/news",
            dataType: "json",
            contentType: 'application/json',
            success : function (data) {
                      var dlen = data.length-1
                      // index go from 0 ~ 11  id_forloopcounter  = 1 ~ 12
                      $(".alltitle").each(function(index){
                          $("#title_"+(index+1)+"").text(data[dlen-index].title);
                      }); 

                      $(".allimg").each(function(index){
                          $("#img_"+(index+1)+"").attr('src',data[dlen-index].image_url);
                      });
                      $(".allintro").each(function(index){
                          $("#intro_"+(index+1)+"").text(data[dlen-index].short_description);
                      });
                      $(".alldetaillink").each(function(index){
                          $("#detail_link_"+(index+1)+"").attr('href',data[dlen-index].id);
                          $("#detail_link2_"+(index+1)+"").attr('href',data[dlen-index].id);
                      });

                    },
            error: function(XMLHttpRequest, textStatus, errorThrown, data) {
                   alert(XMLHttpRequest.status);
                   alert(XMLHttpRequest.readyState);
                   alert(textStatus);
                   alert(data);
                   },                   
        });


    });
    </script> 

    </body>
</html>

